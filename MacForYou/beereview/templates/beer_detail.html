{% extends "base.html" %}
{% load static %}

{% block custom_css_for_page %}
  <style type="text/css">
  body {
    background-color: #FFFFFF;
  }
  .ui.menu .item img.logo {
    margin-right: 1.5em;
  }
  .main.container {
    margin-top: 3em;
  }
/*  .wireframe {
    margin-top: 2em;
  }
  .ui.footer.segment {
    margin: 5em 0em 0em;
    padding: 5em 0em;
  }*/
  </style>
{% endblock custom_css_for_page %}

{% block content %}
<div class="ui eight column doubling stackable grid main container">
<div class="ten wide column">
<div class="ui items">
  <div class="item">
    <div class="image">
      <img src="/images/wireframe/image.png">
    </div>
    <div class="content">     
     <a class="header">{{ beer.name }}</a>
     <div class="extra"> {{ beer.nation }} <!-- <i class="kr flag"></i> --></div>
     <div class="extra">
        Type: {{ beer.beertype.name }}
     </div>
<!--      <div class="extra">
        Calorie: {{ beer.calorie }} kcal
     </div> -->
     <div class="meta">
        ABV: {{ beer.abv }} %
     </div>
     <div class="meta">
     	<span>Rating: {{ beer.overall_score }} </span>
     	<div class="ui star rating review result" data-rating="{{ beer.overall_score|floatformat:'0' }}" data-max-rating="5"></div>
     </div>     
     <div class="meta">
     	<span>Description</span>
     </div>   
     <div class="description">
     	<p style="word-break: break-all;">{{ beer.description }}</p>
     </div>
    </div>
  </div>
</div>

<div class="ui comments">
  <h3 class="ui dividing header">Reviews</h3>
  {% for review in review_list %}
    <div class="comment">
      <a class="avatar">
        <img src="/images/avatar/small/matt.jpg">
      </a>
      <div class="content">
        <a class="author">{{ review.user }}</a>
        <div class="metadata">
          <span class="date">{{ review.updated}}</span>
          <!-- <span class="date">Today at 5:42PM</span> -->          
        </div>
        <div class="text">
          {{ review.comment }}
        </div>
      </div>
      {% if user == review.user %}
      <div class="actions">
        <a class="reply">Modify</a>
      </div>
      {% else %}
      <div class="actions">
        <a class="reply"> </a>
      </div>
      {% endif %}
      
    </div>
  {% endfor %}
  <!-- <div class="comment">
    <a class="avatar">
      <img src="/images/avatar/small/matt.jpg">
    </a>
    <div class="content">
      <a class="author">Matt</a>
      <div class="metadata">
        <span class="date">Today at 5:42PM</span>
      </div>
      <div class="text">
        How artistic!
      </div>
      <div class="actions">
        <a class="reply">Modify</a>
      </div>
    </div>
  </div> -->

  <div class="ui reply form">
    <br/>
    {% if user.is_authenticated %}
    <div class="ui blue labeled submit icon button" id="Review_Write_Btn">
      <i class="icon edit"></i> Write Review
    </div>
    {% else %}
     <div class="ui blue labeled submit icon button" id="Login_to_Write_Btn">
      <i class="icon edit"></i> Login to Write Review
    </div>
    {% endif %}
  </div>
</div>
</div>

<!-- <div class="ui vertical divider"></div> -->
<div class="six wide column">
<div class="ui raised segment">
  <h3> Other Beer Recom</h3>
<!--   <img class="ui medium circular image" src="/images/wireframe/square-image.png">
  <img class="ui medium circular image" src="/images/wireframe/square-image.png">
  <img class="ui medium circular image" src="/images/wireframe/square-image.png">
  <img class="ui medium circular image" src="/images/wireframe/square-image.png"> -->
  <div class="ui cards">
   {% for recom_beer in recom_beers %}
   <div class="ui orange centered card">
    <div class="image">
      <img class="ui small circular image" src="{% static 'a.jpg' %}">
    </div>
    <div class="content">
      <a class="header" href="{% url 'beers:beer_detail' recom_beer.name %}" style="font-size: 1.18571429em;">{{ recom_beer.name }}</a>
      <div class="meta">
        <a>Rating: {{ recom_beer.overall_score }}</a>
        <div class="ui star rating recom" data-rating="{{ recom_beer.overall_score|floatformat:'0' }}" data-max-rating="5"></div>
      </div>
    </div>
<!--     <div class="extra">
      {{ recom_beer.name }}, Rating: {{ recom_beer.overall_score }}
      <div class="ui star rating" data-rating="4"></div>
    </div> -->
   </div>
   {% endfor %}
<!--   <div class="ui orange centered card">
    <div class="image">
      <img class="ui small circular image" src="{% static 'a.jpg' %}">
    </div>
    <div class="extra">
      Rating:
      <div class="ui star rating" data-rating="4"></div>
    </div>
  </div>
  <div class="ui orange centered card">
    <div class="image">
      <img class="ui small circular image" src="{% static 'a.jpg' %}">
    </div>
    <div class="extra">
      Rating:
      <div class="ui star rating" data-rating="4"></div>
    </div>
  </div> -->
  </div>
 </div>
</div>

<div class="ui tiny modal">
  <div class="header"> Modal Test Header </div>
  <div class="content">
    <form class="ui reply form">
      <label>Rating</label>
      <div class="ui selection dropdown">
          <input name="Rating" type="hidden">
          <i class="dropdown icon"></i>
          <div class="default text">Rating</div>
          <div class="menu">
              <div class="item" data-value="0.5"><i class="star half empty icon"></i>0.5</div>
              <div class="item" data-value="1"><i class="star icon"></i>1</div>
              <div class="item" data-value="1.5"><i class="star icon"></i><i class="star half empty icon"></i>1.5</div>
              <div class="item" data-value="2"><i class="star icon"></i><i class="star icon"></i>2</div>
              <div class="item" data-value="2"><i class="star icon"></i><i class="star icon"></i><i class="star half empty icon"></i>2.5</div>
              <div class="item" data-value="2"><i class="star icon"></i><i class="star icon"></i><i class="star icon"></i>3</div>
              <div class="item" data-value="2"><i class="star icon"></i><i class="star icon"></i><i class="star icon"></i><i class="star half empty icon"></i>3.5</div>
              <div class="item" data-value="2"><i class="star icon"></i><i class="star icon"></i><i class="star icon"></i><i class="star icon"></i>4</div>
              <div class="item" data-value="2"><i class="star icon"></i><i class="star icon"></i><i class="star icon"></i><i class="star icon"></i><i class="star half empty icon"></i>4</div>
              <div class="item" data-value="2"><i class="star icon"></i><i class="star icon"></i><i class="star icon"></i><i class="star icon"></i><i class="star icon"></i>5</div>
          </div>
      </div>
      <p></p>
      <div class="field">
        <textarea rows="3"></textarea>
      </div>
    </form>
  </div>
  <div class="actions">
    <div class="ui red cancel inverted button">Cancel</div>
    <div class="ui green ok approve inverted button">SEND</div>
  </div>
</div>

<!-- <div class="ui selection dropdown">
  <input name="Rating" type="hidden">
  <i class="dropdown icon"></i>
  <div class="default text">Rating</div>
  <div class="menu">
      <div class="item" data-value="1"><i class="empty star icon"></i>1</div>
      <div class="item" data-value="0">2</div>
  </div>
</div> -->

<!-- {% if beer_reviews %}
<p> Reviewed </p>
<ul>
{% for review in beer_reviews %}
	<li> {{review.user}} said that this beer is {{ review.comment }}</li>
{% endfor %}
</ul>
{% endif %} -->

{% endblock content %}

{% block custom_script %}
  <script type="text/javascript"> 
    $('.ui.star.rating.review.result').rating('disable');   
    $('.ui.star.rating.recom').rating('disable');
    $("#Review_Write_Btn").click(function(){
      // $('.tiny.modal').modal({ blurring: true }).modal('show');
      $('.tiny.modal').modal('show');
      $('.ui.selection.dropdown').dropdown();
    });
    $("#Login_to_Write_Btn").click(function(){
      window.location.href='/accounts/login';
    });
    // $('.ui.selection.dropdown').dropdown();
  </script>
{% endblock custom_script %}
